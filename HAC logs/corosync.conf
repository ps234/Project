# /etc/corosync/corosync.conf file autogenerated by YaST2.
# Manually changed configurations may get lost when reconfigured by YaST2.
totem {
	#The only valid version is 2
	version:	2

	#Used for mutual node authentication
	crypto_cipher:	none

	#Used for mutual node authentication
	crypto_hash:	none

	#Timeout for a token lost. in ms
	token:	30000

	#How many token retransmits should be attempted before forming a new configuration.
	token_retransmits_before_loss_const:	10

	#How long to wait for join messages in membership protocol. in ms
	join:	60

	#How long to wait for consensus to be achieved before starting a new round of membership configuration.
	consensus:	36000

	#The virtual synchrony filter type used to indentify a primary component. Change with care.
	vsftype:	none

	#The maximum number of messages that may be sent by one processor on receipt of the token.
	max_messages:	20

	#To make sure the auto-generated nodeid is positive
	clear_node_high_bit:	yes

	interface {
		#The ringnumber assigned to this interface setting
		ringnumber:	0

		#Network Address to be bind for this interface setting
		bindnetaddr:	173.249.45.227

		#The multicast port to be used
		mcastport:	5405

		#Time-to-live for cluster communication packets
		ttl:	1

	}
	#HMAC/SHA1 should be used to authenticate all message
	secauth:	on

	#Transport protocol
	transport:	udpu

	#This specifies the name of cluster
	cluster_name:	hacluster

	#Specifies version of IP to use for communication. Value can be one of ipv4 or ipv6.
	ip_version:	ipv4

	#The mode for redundant ring. None is used when only 1 interface specified, otherwise, only active or passive may be choosen
	rrp_mode:	none

}
nodelist {
	node {
	#ring0 address
	ring0_addr:	173.249.45.227

	}
	node {
	#ring0 address
	ring0_addr:	5.189.176.101

	}
}
logging {
	#Logging file line in the source code as well
	fileline:	off

	#Log to the standard error output
	to_stderr:	no

	#Log to syslog
	to_syslog:	yes

	#Whether or not turning on the debug information in the log
	debug:	off

	#Log timestamp as well
	timestamp:	on

	logger_subsys {
		#This specifies the subsystem identity (name) for which logging is specified

		subsys:	QUORUM

		#Enable debug for this logger.

		debug:	off

	}
	#Log to a specified file
	to_logfile:	yes

	#Log to be saved in this specified file
	logfile:	/var/log/cluster/corosync.log

	#Facility in syslog
	syslog_facility:	daemon

}
quorum {
	#Enable and configure quorum subsystem
	provider:	corosync_votequorum

	#Enables two node cluster operations
	two_node:	1
        expected_votes: 2

}
